/*
 * Copyright (C) 2018 The LineageOS Project
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/ {
	/* pstore: reserved DDR memory region for post-mortem kernel logs */
	memory {
		pstore_reserve_mem: pstore_reserve_mem_region@0 {
			linux,reserve-contiguous-region;
			linux,reserve-region;
			linux,remove-completely;
			reg = <0x00000000 0x30000000    /* Address */
			       0x00000000 0x00300000>;  /* Size */
			label = "pstore_reserve_mem";
		};
	};
};

&soc {
};

/* LCD panel
 * - Documentation/devicetree/bindings/fb/mdss-dsi-panel.txt
 * - Overrides dsi-panel-nt35597-dualmipi-wqxga-video.dtsi
 */
&dsi_dual_nt35597_video {
	qcom,mdss-dsi-panel-width = <800>;  /* Previously 720 */
	qcom,mdss-dsi-h-front-porch = <17>; /* Horizontal front porch in pixels; previously 100 */
	qcom,mdss-dsi-h-back-porch = <30>;  /* Horizontal back porch in pixels; previously 32 */
	qcom,mdss-dsi-h-pulse-width = <4>;  /* Previously 16 */
	qcom,mdss-dsi-v-back-porch = <24>;  /* Vertical back porch in pixels; previously 7 */
	qcom,mdss-dsi-v-front-porch = <16>; /* Vertical front porch in pixels; previously 8 */
	qcom,mdss-dsi-v-pulse-width = <8>;  /* Previously 1 */
	qcom,mdss-dsi-on-command =
	       [39 01 00 00 01 00 06 f0 55 aa 52 08 00
	        15 01 00 00 01 00 02 c0 0d
	        39 01 00 00 01 00 05 b8 03 06 00 00
	        39 01 00 00 01 00 05 ff aa 55 a5 80
	        15 01 00 00 01 00 02 6f 0f
	        15 01 00 00 01 00 02 f7 01
	        39 01 00 00 01 00 05 ff aa 55 a5 00
	        15 01 00 00 01 00 02 62 01
	        15 01 00 00 01 00 02 55 00 /* CABC (0: off, 1: UI, 2: Picture, 3: Video) */
	        15 01 00 00 01 00 02 53 24
	        15 01 00 00 01 00 02 51 80
	        05 01 00 00 78 00 02 11 00
	        05 01 00 00 15 00 02 29 00];
	/* DSI PHY timings */
	qcom,mdss-dsi-panel-timings = [D5 32 22 00 60 64 26 34 29 03 04 00];
};
/*
 * Overrides msm8976-mdss-mtp.dtsi
 */
&dsi_dual_nt35597_video {
	/delete-property/ qcom,mdss-dsi-pan-enable-dynamic-fps;
	/delete-property/ qcom,mdss-dsi-pan-fps-update;
};
&mdss_dsi0 {
	/delete-property/ qcom,platform-bklight-en-gpio;
};
&mdss_dsi1 {
	/delete-property/ qcom,platform-bklight-en-gpio;
};

